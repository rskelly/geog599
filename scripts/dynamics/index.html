<html>
<head>
<script>

	function eq5_thrustPerRotor(evt) {
		var t = evt.target.valueAsNumber;
		var n = evt.target.form.elements['n'].valueAsNumber;
		evt.target.form.elements['Tnom'].valueAsNumber = (t * n);
		eq5_calc();
	}

	function eq5_thrustNom(evt) {
		var t = evt.target.valueAsNumber;
		var n = evt.target.form.elements['n'].valueAsNumber;
		evt.target.form.elements['T'].valueAsNumber = (t / n);
		eq5_calc();
	}

	function eq5_rotorRadius(evt) {
		var r = evt.target.valueAsNumber;
		evt.target.form.elements['A'].valueAsNumber = (2 * Math.PI * r * r);
		eq5_calc();
	}
	
	function eq5_sweptArea(evt) {
		var a = evt.target.valueAsNumber;
		evt.target.form.elements['R'].valueAsNumber = Math.sqrt(a / 2 / Math.PI);
		eq5_calc();
	}
	
	function eq5_calc(evt) {
		if(evt)
			evt.preventDefault();
		var form = document.querySelector('#eq5');
		var T = form.elements['T'].valueAsNumber;
		var p = form.elements['p'].valueAsNumber;
		var A = form.elements['A'].valueAsNumber;
		form.elements['vh'].value = '0,0,' + Math.sqrt(T / 2 * p * A);
		return false;
	}

	function eq12_calc(evt) {
		if(evt)
			evt.preventDefault();
		var v2h = evt.target.value.split(',').map(parseFloat);
		var vinf = evt.target.form['vinf'].value.split(',').map(parseFloat);
		var a = evt.target.form['alpha'].valueAsNumber;
		evt.target.form['vi'].valueAsNumber = 
	}

	function setup(evt) {
		var eq5 = document.querySelector('#eq5');
		eq5.elements['T'].addEventListener('change', eq5_thrustPerRotor);
		eq5.elements['Tnom'].addEventListener('change', eq5_thrustNom);
		eq5.elements['A'].addEventListener('change', eq5_sweptArea);
		eq5.elements['R'].addEventListener('change', eq5_rotorRadius);
		eq5_calc();
	}

</script>
</head>

<body onload="setup();">

<div>Hoffmann, G., Huang, H., &amp; Waslander, S. (2007). Quadrotor helicopter flight dynamics and control: Theory and experiment. American Institute of Aeronautics and Astronautics, 1â€“20. https://doi.org/10.2514/6.2007-6461</div>

<div>
	<h3>Eq 5</h3>

	<form id="eq5">
		<div></div>
		<table>
			<tr><td>n (Number of rotors)</td><td>=</td><td><input name="n" type="number" value="6" /></td></tr>
			<tr><td>T (Thrust per rotor)</td><td>=</td><td><input name="T" type="number" /></td></tr>
			<tr><td>T<sub>nom</sub> (Total nominal thrust (weight of vehicle))</td><td>=</td><td><input name="Tnom" type="number" /></td></tr>
			<tr><td>p (Density of air)</td><td>=</td><td><input name="p" value="1.225" type="number" /></td></tr>
			<tr><td>R (Radius of rotor (m))</td><td>=</td><td><input name="R" type="number" value="53.34" /></td></tr>
			<tr><td>A (Swept area)</td><td>=</td><td><input name="A" type="number" /></td></tr>
			<tr><td colspan="3"><hr /></td></tr>
			<tr><td>v<sub>h</sub> (Thrust per rotor)</td><td>=</td><td><input name="vh" /></td></tr>
			<tr><td colspan="3"><button onclick="eq5_calc(event);">Compute</button></td></tr>
		</table>
	</form>
</div>

<div>
	<h3>Eq 12</h3>

	<form id="eq12">
		<div>
			<p>Free stream velocity (v<sub>&infin;</sub>) is the speed of air with reference to the craft before the craft disturbs it. In other words, it's the velocity of the craft in the opposite direction. If the craft is travelling at a constant velocity in the x direction and there is no wind, the freestream is a vector with one non-zero coordinate.</p>
			<p>Inputs are vectors in the form a,b,c.</p>
		</div>
		<table>
			<tr><td>v<sup>2</sup><sub>h</sub> (Induced velocity at hover (from 5))</td><td>=</td><td><input name="v2h" /></td></tr>
			<tr><td>v<sub>inf</sub> (Free stream velocity)</td><td>=</td><td><input name="vinf" value="0,0,0" /></td></tr>
			<tr><td>alpha (Angle of attack + forward)</td><td>=</td><td><input name="alpha" value="0" /></td></tr>
			<tr><td colspan="3"><hr /></td></tr>
			<tr><td>v<sub>i</sub> (Induced velocity)</td><td>=</td><td><input name="vi" /></td></tr>
			<tr><td colspan="3"><button onclick="eq12_calc(event);">Compute</button></td></tr>
		</table>
	</form>
</div>

</body>